<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="Antti Forsell">
    <meta name="author" content="Heidi Tähtinen">

    <title>Squirrel</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <!-- Custom styles for this template -->
    <!--<link href="css/carousel.css" rel="stylesheet">-->
  </head>
<!-- NAVBAR
================================================== -->
  <body>
    <div class="navbar-wrapper">
      <div class="container">

        <div class="navbar navbar-inverse navbar-static-top" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="./">Squirrel</a>
            </div>
            <div class="navbar-collapse collapse">
              <ul class="nav navbar-nav">
                <li><a href="#who">Ketkä</a></li>
                <li><a href="#what">Yleistä</a></li>
                <li><a href="#how">Ohjeet</a></li>
                <li class="divider-vertical"></li>
                <li><a href="https://www.nitrous.io/">Nitrous.io</a></li>
                <li><a href="https://github.com/aforsell/squirrel-rails">Lähdekoodit</a></li>
             </ul>
            </div>
          </div>
        </div>

      </div>
    </div>

    <div class="container marketing" style="padding-top: 100px">
      <section id="who">
        <div class="row" style="padding-top: 20px">
          <div class="col-lg-6">
            <img class="img-circle" height=140 src="images/fosu.jpg" alt="Generic placeholder image">
            <h2>Antti</h2>
            <p>
              <em>Devaaja, hakkeri, muusikko</em><br>
              <em>Työkuva:</em> Vanhempi arkkitehti, DevOps<br>
              <em>Koulutus:</em> Fil. Yo., tietojenkäsittelytiede, Helsingin yliopisto</p>
            <p>Koodannut 12-vuotiaasta lähtien ja saanut siitä rahaa viimeisimmät kahdeksan vuotta. Erityisesti kiinnostunut järjestelmien automatisoinnista ja toistuvan manuaalisen työn minimoinnista. Keskittynyt versionhallintajärjestelmiin ja ohjelmistotuotantoympäristöjen integrointiin monikansallisissa organisaatioissa.</p>
            <p><a class="btn btn-default" href="https://www.linkedin.com/pub/antti-forsell/33/9a6/36b" role="button"><img src="images/InBug-16px_0.png" style="padding-right: 3px;">Linkedin &raquo;</a></p>
          </div><!-- /.col-lg-4 -->

          <div class="col-lg-6">
            <img class="img-circle" height=140 src="images/heidi.png" alt="Generic placeholder image">
            <h2>Heidi</h2>
            <p>
              <em>Devaaja, konsultti, vapaaottelija</em><br>
              <em>Työkuva:</em> Konsultti, DevOps <br>
              <em>Koulutus:</em> AMK-insinööri, ohjelmistotekniikka, Metropolia
            </p>
            <p>Vaihtoi lukion jälkeen kuvataiteilun koodaamiseen ja on pyörinyt IT-alan hommissa vuodesta 2005. Ydinosaamista ovat ketterät menetelmät, avoimen lähdekoodin järjestelmät ja laadunhallinta. On kuin kotonaan isojen asiakkaiden monimutkaisten ympäristöjen syövereissä.</p>
            <p><a class="btn btn-default" href="fi.linkedin.com/in/heiditahtinen" role="button"><img src="images/InBug-16px_0.png" style="padding-right: 3px;">Linkedin &raquo;</a></p>
          </div><!-- /.col-lg-4 -->

        </section>

        <hr class="featurette-divider">

        <section id="what">
          <div class="row featurette">
            <div class="col-md-7">
              <h2 class="featurette-heading" style="margin-top: 10px;">Kehitysympäristö <span class="text-muted">tai IDE.</span></h2>
              <p><a href="http://fi.wikipedia.org/wiki/Ohjelmointiymp%C3%A4rist%C3%B6">Wikipedian</a> mukaan &ldquo;Ohjelmointiympäristö on ohjelma tai joukko ohjelmia, jolla ohjelmoija suunnittelee ja toteuttaa ohjelmistoa. Yksinkertaisimmillaan ohjelmointiympäristö on tekstieditori ja ohjelmointikielen kääntäjä.&rdquo; Ohjelmoija kirjoittaa tekstieditorilla koodia, jonka kääntäjä muuttaa tietokoneen ymmärtämään konekieliseen muotoon. IDE (integrated development environment) on käytännössä yhteen pakettiin integroitu tekstieditori ja kääntäjä.</p>
              <p>Perinteisempiä, työpöydältä käytettäviä IDE:jä ovat mm.
                <ul>
                  <li><a href="http://www.eclipse.org/">Eclipse</a></li>
                  <li><a href="https://netbeans.org/">Netbeans</a></li>
                  <li><a href="http://www.jetbrains.com/ruby/">Rubymine</a></li>
                  <li><a href="http://www.jetbrains.com/idea/">IntelliJ IDEA</a></li>
                </ul>
              </p>
              <p>Tätä harjoitussessiota varten käytetään puhtaasti selaimessa ajettavaa IDE:ä. <a href="http://nitrous.io/">Nitrous.io</a> tarjoaa virtuaalikoneen, johon on valmiiksi asennettu tarvittavat komponentit, helppokäyttöisen editorin sekä komentorivitulkin (<a href="http://fi.wikipedia.org/wiki/Komentoliittym%C3%A4">CLI</a>). Oman tilin palveluun voit luoda <a href="https://www.nitrous.io/join/O7WH4EEIbew">täältä</a>.</p>
            </div>
            <div class="col-md-5">
              <a href="images/nitrous-ide.png"><img class="featurette-image img-responsive" width=500 src="images/nitrous-ide.png" alt="Nitrous.io"></a>
            </div>
          </div>

          <hr class="featurette-divider">

          <div class="row featurette">
            <div class="col-md-5">
              <img src="images/Ruby_on_Rails-logo.png">
            </div>
            <div class="col-md-7">
              <h2 class="featurette-heading" style="margin-top: 10px;">Ruby on Rails <span class="text-muted">ja Squirrel.</span></h2>
              <p><a href="http://rubyonrails.org/">Ruby on Rails</a> on <a href="https://www.ruby-lang.org/en/">Ruby</a>-ohjelmointikilellä toteutettu <a href="http://fi.wikipedia.org/wiki/Ohjelmistokehys">sovelluskehys</a> (framework), jonka avulla web-ohjelmistojen toteuttaminen on todella tehokasta ja nopeaa. Tunnetuimpia Railsillä toteutettuja sivustoja ovat <a href="http://twitter.com">Twitter</a> ja <a href="http://github.com">Github</a>, sekä suomalaisena esimerkkinä vaikkapa Maanmittauslaitoksen <a href="https://www.kiinteistoasiat.fi/">kiinteistökaupan verkkopalvelu</a>. Maaliskuussa 2013 arvioitiin, että yli 200000 sivustoa on toteutettu käyttäen Railsiä.</p>
              <p>Tämän työpajan ideana on näyttää, miten helposti Railsillä pääsee alkuun ja pystyy toteuttamaan nopeasti nk. <em>proof-of-concept</em>-tason web-ohjelmistoja. Tarkoitus on luoda etäisesti Twitteriä muistuttava palvelu - <b>Squirrel</b> (keksikää ite parempi nimi). Palvelussa käyttäjä voi viestiä ajatuksiaan kaikelle kansalle (eli, öö, <em>squeekata</em>. sigh) käyttäen nimimerkkiä. 
            </div>
          </div>
        </section>

        <hr class="featurette-divider">

        <section id="how">
          <div class="row featurette">
            <div class="col-md-12">
              <h2 class="featurette-heading" style="margin-top: 10px">Virtuaalikoneen ja ohjelmointiympäristön luominen</h2>
              <p>Kun olet <a href="https://www.nitrous.io/join/O7WH4EEIbew">rekistöröitynyt</a> Nitrous.io -palveluun, luodaan ympäristö seuraavasti:</p>
              <ul>
                <li>Yläreunan valikosta valitaan "Boxes"</li>
                <li>Painetaan nappia "New Box"</li>
                <li>Valitaan "Ruby/Rails"</li>
                <li>Name-kenttään voi laittaa oikeastaan mitä tahansa, itse laitoin "squirrel-rails"</li>
                <li>Muutoin vakioasetukset ovat ihan riittävät (Europe, 384 MB, 750 MB)</li>
                <li>Paina "Create Box"-nappia</li>
              </ul>

              <p>Tässä kohtaa palvelu miettii hetken aikaa, kun se luo uutta ympäristöä. Noin minuutin kuluessa palvelu ohjaa sinut uuteen ympäristöösi.</p>

              <h2 class="featurette-heading" style="margin-top: 25px">Uuden Rails-projektin luonti</h2>
              <p>Sivun alareunassa on komentorivitulkki, jossa lukee jotakuinkin seuraavaa:</p>
              <pre>
action@squirrel-rails-59591:~$ 
              </pre>
              <img style="border: 1px solid black; margin: 5px;" class="pull-left" src="images/nitrous-filebrowser.png">
              <p>Sivun vasemmassa reunassa oleva laatikko kuvaa hakemistorakennetta. Kotihakemiston <em>~</em> alla on kansio <em>workspace</em>. Projekti luodaan tänne, eli siirrytään ensin komentotulkissa oikeaan paikkaan <code>cd workspace</code> -komennolla.</p>
              <span class="clearfix">&nbsp;</span>
              <pre>
action@squirrel-rails-59591:~$ cd workspace
action@squirrel-rails-59591:~/workspace$ 
              </pre>
              <p>Uusi rails-projekti luodaan komennolla <code>rails new &lt;projektin-nimi&gt;</code> joten tässä kohtaa luodaan projekti ja siirrytään projektikansioon <code>cd &lt;projektin-nimi&gt;</code>. Projektin luonti kestää jonkin aikaa, sillä rails hakee netistä kaikki tarvittavat palikat. </p>
              <pre>
action@squirrel-rails-59591:~/workspace$ rails new squirrel
[...]
>= 1.9.2 : nothing to do! Yay!
action@squirrel-rails-59591:~/workspace$ ls
squirrel
action@squirrel-rails-59591:~/workspace$ cd squirrel
action@squirrel-rails-59591:~/workspace/squirrel$
              </pre>
              <p>Vaikka projekti ei vielä sisällä mitään, voidaan sen toiminta kuitenkin jo testata. Testipalvelin käynnistetään komennolla <code>rails server</code>.</p>
              <pre>
action@squirrel-rails-59591:~/workspace/squirrel$ rails server
=&gt; Booting WEBrick
=&gt; Rails 4.0.0 application starting in development on http://0.0.0.0:3000
=&gt; Run `rails server -h` for more startup options
=&gt; Ctrl-C to shutdown server 
[2013-12-10 19:29:06] INFO  WEBrick 1.3.1
[2013-12-10 19:29:06] INFO  ruby 2.0.0 (2013-06-27) [x86_64-linux]
[2013-12-10 19:29:06] INFO  WEBrick::HTTPServer#start: pid=655 port=3000
              </pre>
              <p>Palvelimen käynnistettyä sitä voi testata valitsemalla sivuston ylävalikosta <em>Preview</em> ja sen alta <em>Port 3000</em>. Tuloksena pitäisi avautua jotakuinkin seuraavan näköinen sivu:</p>
              <img style="border: 1px solid black; margin: 5px;" src="images/rails-welcome.png">
              <p>Palvelimen voi pysäyttää painamalla komentotulkissa näppäinyhdistelmää <em>Ctrl-C</em>.</p>
            </div>

            <div class="row featurette">
              <div class="col-md-12">
                <h2 class="featurette-heading" style="margin-top: 10px">Sovelluksen runko</h2>
                  <p>Eräs Railsin hienouksista on se, että ohjelman sisäisestä toiminnasta ei tarvitse tietää juuri mitään, että saa jotain toimivaa aikaiseksi. Rails tuo mukanaan mahdollisuuden käyttää <em>generaattoreita</em>. Jokaiselle Rails-ohjelmiston komponentille on oma generaattorinsa, mutta tarjolla on myös mahdollisuus luoda niinkutsuttu rakennusteline <em>scaffold</em>, joka luo tarvittavan rungon ohjelmakoodille. Tämä tapahtuu käskyllä <code>rails generate scaffold &lt;ResurssinNimi&gt; &lt;kentän_nimi&gt;:&lt;kentän_tietotyyppi&gt; ...</code>.</p>
                  <p>Meidän tapauksessamme siis haluamme luoda viestejä (Squeek), jotka sisältävät viestin lähettäjän nimimerkin sekä itse viestin:</p>
                <pre>
action@squirrel-rails-59591:~/workspace/squirrel$ rails generate scaffold Squeek user:string message:text 
      invoke  active_record
      create    db/migrate/20131210212012_create_squeeks.rb
      create    app/models/squeek.rb  
      invoke    test_unit
      create      test/models/squeek_test.rb
      create      test/fixtures/squeeks.yml
      invoke  resource_route
       route    resources :squeeks
      invoke  scaffold_controller
      create    app/controllers/squeeks_controller.rb
      invoke    erb
      create      app/views/squeeks
      create      app/views/squeeks/index.html.erb
      create      app/views/squeeks/edit.html.erb
      create      app/views/squeeks/show.html.erb
      create      app/views/squeeks/new.html.erb
      create      app/views/squeeks/_form.html.erb
      invoke    test_unit
      create      test/controllers/squeeks_controller_test.rb
      invoke    helper
      create      app/helpers/squeeks_helper.rb
      invoke      test_unit
      create        test/helpers/squeeks_helper_test.rb
      invoke    jbuilder
      create      app/views/squeeks/index.json.jbuilder
      create      app/views/squeeks/show.json.jbuilder
      invoke  assets
      invoke    coffee
      create      app/assets/javascripts/squeeks.js.coffee
      invoke    scss
      create      app/assets/stylesheets/squeeks.css.scss
      invoke  scss
      create    app/assets/stylesheets/scaffolds.css.scss
action@squirrel-rails-59591:~/workspace/squirrel$                                  
                </pre>
                <p>Ohjelmiston data tallennetaan tietokantaan myöhempää käyttöä varten ja muille käyttäjille näytettäväksi. Seuraavaksi luodaan tietokannalle sopiva rakenne edellisessä vaiheessa luotujen viestien tallettamiseen. Tämä tehdään komennolla <code>rake db:migrate</code>.</p>
                <pre>
action@squirrel-rails-59591:~/workspace/squirrel$ rake db:migrate
==  CreateSqueeks: migrating ==================================================
-- create_table(:squeeks)
   -> 0.0017s
==  CreateSqueeks: migrated (0.0068s) =========================================
action@squirrel-rails-59591:~/workspace/squirrel$
                </pre>
                <p>Jotta ohjelma osaisi näyttää oikean sivun, pitää sille kertoa mitä halutaan näyttää. Vasemman reunan valikosta etsitään tiedosto <em>routes.rb</em>
                <ol class="breadcrumb">
                  <li>~</li>
                  <li>workspace</li>
                  <li>squirrel</li>
                  <li>config</li>
                  <li>routes.rb</li>
                </ol>
                </p>
                <p>Lisätään tiedostoon rivi <code>root 'squeeks#index'</code> seuraavasti:</p>
                <pre>
Squirrel::Application.routes.draw do
  resources :squeeks
  
  root 'squeeks#index'

  # paljon kommentoituja rivejä
  # ...

end
                </pre> 
                <p>Tässä kohtaa ohjelman perustoiminnallisuus onkin valmis, eli ei muuta kuin testaamaan <code>rails server</code>.</p>
                <pre>
action@squirrel-rails-59591:~/workspace/squirrel$ rails server
=&gt; Booting WEBrick
=&gt; Rails 4.0.0 application starting in development on http://0.0.0.0:3000
=&gt; Run `rails server -h` for more startup options
=&gt; Ctrl-C to shutdown server 
[2013-12-10 22:46:34] INFO  WEBrick 1.3.1
[2013-12-10 22:46:34] INFO  ruby 2.0.0 (2013-06-27) [x86_64-linux]
[2013-12-10 22:46:34] INFO  WEBrick::HTTPServer#start: pid=655 port=3000
                </pre>
                <p>Ja tämän jälkeen taas sivuston ylävalikosta Preview ja Port 3000</p>
              </div>
            </div>

          </div>
        </section>

      </div><!-- /.row -->

      <hr class="featurette-divider">


      <!-- FOOTER -->
      <footer>
        <p class="pull-right"><a href="#">Sivun alkuun</a></p>
        <p>&copy; Fosu &and; Heidi</p>
      </footer>

    </div><!-- /.container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/holder.js"></script>
  </body>
</html>
